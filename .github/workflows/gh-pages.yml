name: resume
on: [push]
jobs:

  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
    - name: Check out code
      uses: actions/checkout@v1

    - name: Set up Node
      uses: actions/setup-node@v1
      with:
        node-version: '10.x'

    - name: Npm install And build
      run: npm install && npm run build

    - name: HTML to PDF
      uses: fifsky/html-to-pdf-action@master
      with:
        htmlFile: ${GITHUB_WORKSPACE}/public/index.html
        ouput: ${GITHUB_WORKSPACE}/public/resume.pdf

    - name: Build and Deploy
      uses: JamesIves/github-pages-deploy-action@master
      env:
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
        BRANCH: gh-pages
        FOLDER: public
        CNAME: caixudong.com
